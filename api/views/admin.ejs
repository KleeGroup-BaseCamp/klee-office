<!DOCTYPE html>
<html lang="en" class="no-js">

<head>
    <!-- title and meta -->
    <!-- Forbid compatibility mode -->
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1.0" />
    <meta name="description" content="A chart with the different floors of Klee and their main departments" />
    <title>Explore Offices</title>
    <!-- css -->
    <link href='http://fonts.googleapis.com/css?family=Open+Sans:400italic,600italic,700italic,400,600,700' rel='stylesheet' type='text/css'>
    <link href='http://fonts.googleapis.com/css?family=Oswald:400,300' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" href="css/base.css" />
    <link rel="stylesheet" href="css/style.css" />
    <!-- compiled CSS for boostrap grid and responsive system (some changes in it)-->
    <link rel="stylesheet" href="css/bootstrap.css">
    <!-- js -->
    <script type="text/javascript" src="js/libraries/d3.min.js"></script>
    <script type="text/javascript" src="js/libraries/jquery-1.9.1.min.js"></script>
    <script type="text/javascript" src="js/libraries/jquery.autocomplete.min.js"></script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/blob-polyfill/1.0.20150320/Blob.js"></script>
</head>

<body>
    <div class="info-bar">
        <div id="back-to-home">
            <div id="configurations">
                <a href="/configurations"><img id="configurations-label" src="/img/param2.png" width="40px" height="40px" title="Page validateurs"/></a>
            </div>
            <div id="admin">
                <a href="/admin"><img id="admin-label" src="/img/admin.png" width="40px" height="40px" title="Page administrateurs"/></a>
            </div>   
        </div>
        <!-- title -->
        <div class="title">
                <a href="/"><div id="klee"><b>KLEE</b> OFFICE</div></a>
        </div>
        <table id="personal">
            <thead>
                <tr>
                    <th id="personal-firstname"><%- myFirstName %></th>
                    <th id="personal-lastname"><%- myLastName %></th>
                    <th id="personal-desk"></th>
                </tr>
            </thead>
        </table>
    </div>
        <!-- /#info-bar -->
    <header>
        <div id="navigation-bar">
            <table class="table-header" id="bar-admin">
                <tr>
                    <td>
                        <img class="header-left-photo" id="admin-left-photo" src="../img/objet-dynamique-vectoriel-1.png">                       
                    </td>
                    <td> 
                        <div class="header-middle" id="admin-buttons">   
                            <button id="plot-valid">Administration des validateurs</button>
                            <button id="plot-admin">Administration des administrateurs</button>
                            <button id="plot-plans">Administration des plans</button>
                        </div>
                    </td>
                    <td>
                        <img class="header-right-photo" id="admin-right-photo" src="../img/calque-7.png">
                    </td>   
                </tr>
            </table> 
        </div>
    </header>

    <div id="main" class="">
        <!--div id="admin-bar" class="container">
            <h2 id="action-title" class="center">Administration</h2>
        </div-->
        <div id="error-admin"></div>
            <div id="div-to-hide">

            <div class="list-validators">
                <div id='filter-val'>Afficher :
                        <select id="validateur-company" type='text' value='Choisir une société' name="company"></select>
                </div>
                <table id="table-validators" class="table-pageadmin">
                    <thead class="table-content">
                    <tr >
                        <th>
                            Société
                        </th>
                        <th>
                            Service / Pôle
                        </th>
                        <th>
                            Validateur 1
                        </th>
                        <th>
                            Validateur 2
                        </th>
                        <th class="none">

                        </th>
                    </tr>
                    </thead>
                </table>
            </div>

            <!-- Affichage plans -->
            <div id="plans-block" class="container" display="none">
                <div id="navigation">
                    <div id="menu-withoutresult">
                        <br/>
                        <h3 id="boursidiere" class="site">La Boursidière</h3>
                        <ul id="etages_withoutResult">
                            <li class="list_etage" id ="N0_withoutResult">Etage N0</li>
                            <li class="list_etage" id ="N1_withoutResult">Etage N1</li>
                            <li class="list_etage" id ="N2_withoutResult">Etage N2</li>                  
                            <li class="list_etage" id ="N3_withoutResult">Etage N3</li>                                         
                            <li class="list_etage" id ="N4_withoutResult">Etage N4</li>                    
                            <li class="list_etage" id ="O1_withoutResult">Etage O1</li>                                             
                            <li class="list_etage" id ="O2_withoutResult">Etage O2</li>                    
                            <li class="list_etage" id ="O3_withoutResult">Etage O3</li>                    
                            <li class="list_etage" id ="O4_withoutResult">Etage O4</li>                   
                        </ul>
                        <h3 id="Issy-les-Moulineaux" class="site">Issy-les-Moulineaux</h3>
                        <h3 id="le_mans" class="site">Le Mans</h3> 
                        <h3 id="Lyon" class="site">Lyon</h3>
                        <h3 id="Bourgoin-Jailleux" class="site">Bourgoin-Jailleux</h3>
                        <h3 id="Montpellier" class="site">Montpellier</h3> 
                        <h3 id="sur_site_client" class="site">Sur site client</h3>
                    </div>
                                
                </div>
                
                <div id="map-show">
                    <div class="map-extern">
                    </div>
                    <table id="map-info">
                        <tr>
                            <td>
                                <div id="whole-map">
                                    <div id= "map-name"></div>
                                    <div class ="tooltip_map_desk_empty"></div>
                                    <div class ="tooltip_map_desk"></div>
                                    <svg class="map"></svg>
                                </div>
                            </td>
                            <td id="legend-modifmap">
                                <table id="legend-modifmap-table">
                                    <thead>
                                        <tr>
                                            <th colspan="2"><b>Modifier les bureaux</b></th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr><td colspan="2" class="commande">Ajouter</td></tr>
                                        <tr>
                                            <td align="center"><!--rect  style="fill:#99ff99"  width="25px" height="12px"></rect-->
                                                <svg id="add-desk-horizontal" title="Ajouter un bureau horizontal" width="35" height="35">
                                                    <rect width="30" height="15" style="fill:#99ff99;stroke:black"></rect>
                                                </svg>
                                            </td>
                                            <td align="center">
                                                <svg id="add-desk-vertical" title="Ajouter un bureau vertical" width="35" height="35">
                                                    <rect width="15" height="30" style="fill:#99ff99;stroke:black"></rect>
                                                </svg>
                                                <!--img id="add-desk-vertical" src="/img/bureau_vertical.png" title="Ajouter un bureau vertical" width="20px" height="35px"/--></td>
                                        </tr>
                                        <tr><td colspan="2" class="commande">Galerie d'images  <b id="close-image" style="display:none">X</b></td></tr>
                                        <tr>
                                            <td colspan="2" align="center"><p id="myIcons" style="display:none"><%- myIcons %></p><img id="gallery-icons" src="/img/gallery-img.png" width="35px" height="35px"><div id="icons" style="display:none" ></div></td>
                                        </tr>
                                        <tr><td colspan="2" class="commande">Déplacer/Redimensionner</td></tr>
                                        <tr>
                                            <td align="center"><img id="mode-admin" src="/img/directionCross.png" title="Déplacer un bureau" width="35px" height="35px"/></td>
                                            <td align="center"><img id="plus-size" src="/img/plusDesk.png" width="32px"><img id="minus-size" src="/img/minusDesk.png" width="32px" height="45px"></td>
                                        </tr>
                                        <tr><td colspan="2" class="commande" >Supprimer</td></tr>
                                        <tr>
                                            <td colspan="2" align="center"><img id="rm-desk" src="/img/delete.png" title="Supprimer un bureau" width="35px" height="35px"/></td>
                                        </tr>
                                    </tbody>
                                    <tfoot>
                                        <tr>
                                            <td align="center"><img id="quit-admin" src="/img/ckeck.png" title="Valider les modifications" width="35px"/></td>
                                            <td align="center"><img id="undo-map" src="/img/undoMap.png" title="Annuler tous les changements" width="35px" /></td>
                                        </tr>
                                    </tfoot>
                                </table>

                            </td>                              
                            <td id="legend-modiffile">
                                <table>
                                    <thead><tr><th>Modifier le fichier</th></tr></thead>
                                    <tr><td class="commande">Importer une image (.png, .jpg, .jpeg, .gif)</td></tr>
                                    <tr>
                                        <td>
                                            <div id="imgUpload">
                                                <form ref='uploadForm' 
                                                        id='uploadForm' 
                                                        action='http://localhost:3000/upload' 
                                                        method='post' 
                                                        encType="multipart/form-data">
                                                            <input type="file" id="imgInput" name="sampleFile" style="display: none;" onchange="getImgName()"/>
                                                            <img id="uploadImg" src="/img/img-icon.png" title="Importer une image (.png, .jpg, .jpeg, .gif)" onclick="getImg()" width="35px" height="35px" />
                                                            <p id="import-image">img.png</p>
                                                            <input type='submit' id="importImg" value='Importer' title="Appliquer la nouvelle image" />
                                                </form>
                                            </div>
                                        </td>
                                    </tr>
                                    <tr><td class="commande">Télécharger le fichier actuel</td></tr>
                                    <tr>
                                        <td align="center"><img id="dl-button" src="/img/downloadMap.png" title="Télécharger le plan" width="35px" height="35px"></td>
                                    </tr>
                                    <tr><td class="commande"> Importer un nouveau fichier (.svg uniquement) </td></tr>
                                    <tr>
                                        <td> 
                                            <div id="fileUpload">
                                                <form ref='uploadForm' 
                                                        id='uploadForm' 
                                                        action='http://localhost:3000/upload' 
                                                        method='post' 
                                                        encType="multipart/form-data">
                                                            <input type="file" id="fileInput" name="sampleFile" style="display:none" onchange="getFileName()"/>
                                                            <!--input type="button" id="parcourirButton" value="Importer" onclick="getfile()" /></br-->
                                                            <img id="uploadButton" src="/img/uploadMap.png" title="Importer un plan" onclick="getfile()" width="35px" height="35px" />
                                                            <p id="import-map">map.svg</p>
                                                            <input type='submit' id="importInput" value='Appliquer' title="Appliquer le nouveau plan" />
                                                </form>
                                            </div>
                                        </td>
                                    </tr>
                                    <!--tr>
                                    <td align="center"><button id="krilin">Krilin</button></td>
                                    </tr-->

                                </table>
                            </td>
                        </tr>
                        <tr><td colspan="3"><h3>Aide: mettre à jour la carte</h3>
                            <div id="note-admin">1) Effectuer les modifications à l'aide du menu "Modifier les bureaux" <br>2) Valider les modifications avec le bouton <img src="/img/ckeck.png" display="inline" height="15px"/><br>3) Télécharger le fichier à l'aide du menu "Modifier le fichier"<br>4) Importer le fichier que vous venez de créer<br> ATTENTION le nom du fichier importer doit être celui de la carte<br> Exemple : carte N3 - nom du fichier : N3.svg </div>
                        </td></tr>                     
                    </table>
                </div>
            </div>
            <!-- Affichage plans -->

            <div class="list-admin" display="none">
                <div id="add-admin"><img src="/img/plus.png" width="30px"/><p class="inline">Ajouter un administrateur</p></div>
                <table id='table-admin' class="table-pageadmin">
                    <thead>
                        <tr>
                            <th>Nom</th>
                            <th>Prénom</th>
                            <th>Pôle</th>
                            <th>Société</th>
                            <th>Supprimer</th>
                        </tr>
                    </thead>
                </table>
            </div>
        </div>
    </div>


    <!-- //////////////////////////////////////////////
    // js for plot map and search
    ////////////////////////////////////////////// -->
    <script src="js/classie.js"></script>
    <script src="js/admin.js"></script>
    <script src="js/polyfill.js"></script>
    <!--script src="js/autocomplete.js"></script-->
    <script type="text/javascript" src="js/buildAdminScreen.js"></script>
    <script type="text/javascript" src="js/controlAccount.js"></script>
    <script src="js/globalMapControl.js"></script>
    <script type="text/javascript" src="js/justPlotMap.js"></script>
    <script type="text/javascript" src="js/clickAndPlot.js"></script>
    <script type="text/javascript" src="js/mapAdmin.js"></script>

</body>

</html>